---
title: "Inleiding R Avond Sessie 02"
author: "Longhow Lam"
output: html_notebook
---

# The tidyverse

Een verzameling R packages met 'dezelfde' gedachtegoed om data te bewerken / manipuleren 


```{r, eval=FALSE, include=FALSE}
library(tidyverse)
```

## importeren van data

Voor het importeren van text files gebruik functies uit het readr package in plaats van de base R read functies.

```{r, eval=FALSE, include=FALSE}

```



## dplyr

sleutel woorden zijn select, filter, arrange, summarize, mutate, slice, rename


### kolommen selecteren met select

```{r, eval=FALSE, include=FALSE}
test1 = select(iris, starts_with("Petal"))
test2 = select(iris, contains("etal"))

my.cars = mtcars


### kolom er bij maken
my.cars$kolom2  = rnorm(32)
my.cars$kolom3  = my.cars$kolom2 + 9

mutate(mtcars, displ_l = disp / 61.0237)

### distinct rows
distinct( select(mtcars, carb, gear))

distinct(select(mtcars, 10,11))

### pipe / chain operatie
myset = mtcars %>% 
  select(10,11) %>%
  distinct
```


```{r, eval=FALSE, include=FALSE}
### data filteren met filter
filter(mtcars, cyl == 8 & gear > 3)


### aggregeren met de functie group_by en summarise  deze gaan hand in hand samen

by_cyl = group_by(mtcars, cyl) 
class(by_cyl)


summarise(by_cyl, Naampje1 = mean(disp), Naampje2 = mean(hp))


out = group_by(mtcars, cyl) %>% 
  summarise( mean(disp), mean(hp))


out = filter(mtcars, mpg > 11) %>%
        group_by(cyl, carb) %>% 
        summarise( N = n(), MeanDisp = mean(disp), SD_HP = sd(hp)) %>%
        
  

df1 = data.frame(x=1:100,y=rnorm(100))
df2 = data.frame(x=51:150, z=rnorm(100))

df3 = left_join(df1, df2, by = "x")
```



### joins
```{r, eval=FALSE, include=FALSE}
df1 = data.frame(col1 = c(1,2,3,4,5), tt = rnorm(5))
df2 = data.frame(col2 = c(3,4,5,6,7), xx = rnorm(5))

inner_join(df1, df2, by = c("col1" = "col2"))
left_join(df1, df2, by = c("col1" = "col2"))
right_join(df1, df2, by = c("col1" = "col2"))

anti_join(df1, df2, by = c("col1" = "col2"))
full_join(df1, df2, by = c("col1" = "col2"))
```


### melt / reshape


## stringr


## forcats


## tidyr


## Dates in R

Voor datums in R zijn de packages anydate en lubridate heel handig.

```{r}



```



