---
title: "R oefeningen Inleiding R cursus"
author: "Longhow Lam"
output: 
  html_notebook:
    theme: sandstone
    toc: true
    toc_depth: 2
    toc_float: true
    number_sections: true
---

# Avond sessie 01

## Data types
A.	Create the object x1 with the numbers 1, 3.51, 0.7 and 5.
B.	Show the data class of x1.
C.	Transform x1 into an integer data type and store the result in x2.
D.	Use the round function to round x1 and store the result in x3.
E.	Is x3 of data type integer?


```{r}
x1 = c(1, 3.51, 0.7, 5)
class(x1)
x2 = as.integer(x1)
x3 = round(x1)
is.integer(x3)
```

## Logical data type.
A.	Create the vector y1 with the numbers 1, 2, 3, 4, 5, 6, 7, 8, 9 and 10.
B.	Create a logical vector y2 from y1. An element of y2 should be TRUE if the corresponding element of y1 is larger than 5.
C.	How many elements are smaller than 5?

```{r}
y1 = 1:10
y2 = y1 > 5
sum(y2)
```


## Character data type and factor data type.
A.	Create the character vector y1, with the characters “high”, “low”, “high”, “high”, “low”.
B.	Create the factor variable y2 from y1. Print the levels of y2.
C.	Transform y2 to a numeric vector y3, so that high becomes 2 and low becomes 1.

```{r}
y1 = c("high", "low", "high", "high", "low")
y2 = as.factor(y1)
levels(y2)

y2 = ordered(y2,levels = c("low","high") )
as.integer(y2)

```

## Creating sequences.
A.	Create a vector x, with elements (1,2,3,4,..,100).
B.	Create a vector y, with elements (0,5,10,...,500).
C.	Create a vector z1, with elements (1,1,1,2,2,2,...,50,50,50).
D.	Create a vector z2, with elements (1,2,2,3,3,3,.....,10,....10).
E.	Create a vector z3, with elements (1,2,2,3,4,4,5,6,6,7,8,8,...,50,50).

```{r}
x = 1:100
y = seq(from = 0, to = 500, by =5)
z1 = rep(1:50, each=3)
z2 = rep(1:10, 1:10)
z3 = rep(1:10, rep(1:2,5))
```

## Creating factors from double data.
A.	Generate a vector x with 100 random normal numbers.
B.	Use x to generate a factor vector y with three levels: “low”, “average” and “high”. If an element in x is:

*	between -Inf and -1.5 then the level in y should be “low”,
*	between -1.5 and 1.5 then the level in y should be “average”,
*	between 1.5 and Inf the level in y should be “high”.

Use the function `cut`.

```{r}
x = rnorm(100)
y = cut(x, breaks = c(-Inf,-1.5,1.5,Inf))
levels(y) = c("low", "average", "high")
x
y

```

## Creating a data.frame
A.	Create a data frame from the two vectors x and y from the previous exercise
B.	Rename the columns x and y into index and income
C.	Create an additional factor column Gender, randomly filled with “M” or “F”

```{r}

```

## Creating a list 

A.	Create a list L1 with 4 elements:

*	X1 = 100 random normal numbers,
*	X2  = 100 random uniform numbers between 0 and 1
*	X3 = the numbers one to 20
*	x4 = the numbers 50 to 1

B. Calculate the mean of the four vectors in list L1

```{r}
L1 = list(
  X1 = rnorm(100),
  X2 = runif(200),
  X3 = 1:20,
  x5 = 50:1
)
```


# Avond sessie 02



# Avond sessie 03

## Split data and stack data

Consider the following simple data set with 3 rows

Df = data.frame(
  V1 = c(“a,b,r”, “p,q”, “p,q,w,z”)
)

I need the following set
Id Item
1 a
1 b
1 r
2 p
2 q
3 p
3 q
3 w
3 z

How to this? use tidyr functions separate and gather

```{r}
library(tidyverse)
Df = data.frame(
  V1 = c("a,b,r", "p,q", "p,q,w,z")
)

tmp = tidyr::separate(Df, V1, into = paste0("V",1:10)) %>%
  mutate(tmp = 1:length(V1)) %>%
  gather(id, item, -tmp) %>%
  filter(!is.na(item))
```